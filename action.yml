name: Golang script
author: Ofadiman
description: Run golang script.

branding:
  color: purple
  icon: globe

inputs:
  script:
    description: Golang script name
    required: true

runs:
  using: composite
  steps:
    - name: Checkout code
      uses: actions/checkout@v3.3.0

    - name: Setup go
      uses: actions/setup-go@v3
      with:
        go-version: stable

    - name: Go version
      shell: bash
      run: go version

    - name: Debug files
      shell: bash
      run: |
        ls -lrt ${{ inputs.script }}
        ls -lrt ${{ inputs.script }}/scripts/

    - name: Run script
      shell: bash
      run: go run ${{ inputs.script }}/${{ inputs.script }}
